(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,114007,e=>{"use strict";e.s(["Card",()=>a,"CardContent",()=>c,"CardHeader",()=>o,"CardTitle",()=>l]);var t=e.i(156820),r=e.i(89440),n=e.i(598371),i=e.i(211959);let s=(0,r.cva)("rounded-3xl border text-card-foreground",{variants:{variant:{default:"bg-card",ghost:"bg-transparent"}},defaultVariants:{variant:"default"}}),a=n.forwardRef((e,r)=>{let{className:n,variant:a,...o}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)(s({variant:a}),n),...o})});a.displayName="Card";let o=n.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",n),...s})});o.displayName="CardHeader";let l=n.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("font-semibold leading-none tracking-tight",n),...s})});l.displayName="CardTitle",n.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",n),...s})}).displayName="CardDescription";let c=n.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",n),...s})});c.displayName="CardContent",n.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",n),...s})}).displayName="CardFooter"},774041,e=>{"use strict";e.s(["Copy",()=>t],774041);let t=(0,e.i(510965).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},475932,258561,e=>{"use strict";e.s([],475932);let t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=RegExp("^"+("["+t+"]["+t)+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function n(e,t){let r=[],n=t.exec(e);for(;n;){let i=[];i.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let e=0;e<s;e++)i.push(n[e]);r.push(i),n=t.exec(e)}return r}let i=function(e){return null!=r.exec(e)},s={allowBooleanAttributes:!1,unpairedTags:[]};function a(e){return" "===e||"	"===e||"\n"===e||"\r"===e}function o(e,t){let r=t;for(;t<e.length;t++)if("?"==e[t]||" "==e[t]){let n=e.substr(r,t-r);if(t>5&&"xml"===n)return p("InvalidXml","XML declaration allowed only at the start of the document.",d(e,t));if("?"!=e[t]||">"!=e[t+1])continue;t++;break}return t}function l(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let r=1;for(t+=8;t<e.length;t++)if("<"===e[t])r++;else if(">"===e[t]&&0==--r)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7]){for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}}return t}let c=RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function u(e,t){let r=n(e,c),s={};for(let e=0;e<r.length;e++){if(0===r[e][1].length)return p("InvalidAttr","Attribute '"+r[e][2]+"' has no space in starting.",h(r[e]));if(void 0!==r[e][3]&&void 0===r[e][4])return p("InvalidAttr","Attribute '"+r[e][2]+"' is without value.",h(r[e]));if(void 0===r[e][3]&&!t.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+r[e][2]+"' is not allowed.",h(r[e]));let n=r[e][2];if(!i(n))return p("InvalidAttr","Attribute '"+n+"' is an invalid name.",h(r[e]));if(s.hasOwnProperty(n))return p("InvalidAttr","Attribute '"+n+"' is repeated.",h(r[e]));s[n]=1}return!0}function p(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function d(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function h(e){return e.startIndex+e[1].length}let g={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}};class f{add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}constructor(e){this.tagname=e,this.child=[],this[":@"]={}}}let m=/^[-+]?0x[a-fA-F0-9]+$/,E=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,x={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function N(e){return"function"==typeof e?e:Array.isArray(e)?t=>{for(let r of e)if("string"==typeof r&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}class b{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(e,t)=>String.fromCodePoint(Number.parseInt(t,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(e,t)=>String.fromCodePoint(Number.parseInt(t,16))}},this.addExternalEntities=_,this.parseXml=C,this.parseTextData=I,this.resolveNameSpace=A,this.buildAttributesMap=v,this.isItStopNode=R,this.replaceEntitiesValue=y,this.readStopNodeData=w,this.saveTextToParentTag=S,this.addChild=O,this.ignoreAttributesFn=N(this.options.ignoreAttributes)}}function _(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:RegExp("&"+n+";","g"),val:e[n]}}}function I(e,t,r,n,i,s,a){if(void 0!==e&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));let n=this.options.tagValueProcessor(t,e,r,i,s);return null==n?e:typeof n!=typeof e||n!==e?n:this.options.trimValues||e.trim()===e?P(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function A(e){if(this.options.removeNSPrefix){let t=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=r+t[1])}return e}let T=RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function v(e,t,r){if(!0!==this.options.ignoreAttributes&&"string"==typeof e){let r=n(e,T),i=r.length,s={};for(let e=0;e<i;e++){let n=this.resolveNameSpace(r[e][1]);if(this.ignoreAttributesFn(n,t))continue;let i=r[e][4],a=this.options.attributeNamePrefix+n;if(n.length)if(this.options.transformAttributeName&&(a=this.options.transformAttributeName(a)),"__proto__"===a&&(a="#__proto__"),void 0!==i){this.options.trimValues&&(i=i.trim()),i=this.replaceEntitiesValue(i);let e=this.options.attributeValueProcessor(n,i,t);null==e?s[a]=i:typeof e!=typeof i||e!==i?s[a]=e:s[a]=P(i,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[a]=!0)}if(Object.keys(s).length){if(this.options.attributesGroupName){let e={};return e[this.options.attributesGroupName]=s,e}return s}}}let C=function(e){e=e.replace(/\r\n?/g,"\n");let t=new f("!xml"),r=t,n="",s="";for(let a=0;a<e.length;a++)if("<"===e[a])if("/"===e[a+1]){let t=k(e,">",a,"Closing Tag is not closed."),i=e.substring(a+2,t).trim();if(this.options.removeNSPrefix){let e=i.indexOf(":");-1!==e&&(i=i.substr(e+1))}this.options.transformTagName&&(i=this.options.transformTagName(i)),r&&(n=this.saveTextToParentTag(n,r,s));let o=s.substring(s.lastIndexOf(".")+1);if(i&&-1!==this.options.unpairedTags.indexOf(i))throw Error("Unpaired tag can not be used as closing tag: </".concat(i,">"));let l=0;o&&-1!==this.options.unpairedTags.indexOf(o)?(l=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=s.lastIndexOf("."),s=s.substring(0,l),r=this.tagsNodeStack.pop(),n="",a=t}else if("?"===e[a+1]){let t=D(e,a,!1,"?>");if(!t)throw Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{let e=new f(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,s,t.tagName)),this.addChild(r,e,s)}a=t.closeIndex+1}else if("!--"===e.substr(a+1,3)){let t=k(e,"-->",a+4,"Comment is not closed.");if(this.options.commentPropName){let i=e.substring(a+4,t-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:i}])}a=t}else if("!D"===e.substr(a+1,2)){let t=function(e,t){let r={};if("O"===e[t+3]&&"C"===e[t+4]&&"T"===e[t+5]&&"Y"===e[t+6]&&"P"===e[t+7]&&"E"===e[t+8]){t+=9;let d=1,h=!1,g=!1;for(;t<e.length;t++)if("<"!==e[t]||g)if(">"===e[t]){if(g?"-"===e[t-1]&&"-"===e[t-2]&&(g=!1,d--):d--,0===d)break}else"["===e[t]?h=!0:e[t];else{var n,s,a,o,l,c,u,p;if(h&&"!"===(n=e)[(s=t)+1]&&"E"===n[s+2]&&"N"===n[s+3]&&"T"===n[s+4]&&"I"===n[s+5]&&"T"===n[s+6]&&"Y"===n[s+7]){let n,s;t+=7,[n,s,t]=function(e,t){let r="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)r+=e[t];if(-1!==(r=r.trim()).indexOf(" "))throw Error("External entites are not supported");let n=e[t++],i="";for(;t<e.length&&e[t]!==n;t++)i+=e[t];return[r,i,t]}(e,t+1),-1===s.indexOf("&")&&(r[function(e){if(i(e))return e;throw Error("Invalid entity name ".concat(e))}(n)]={regx:RegExp("&".concat(n,";"),"g"),val:s})}else{h&&"!"===(a=e)[(o=t)+1]&&"E"===a[o+2]&&"L"===a[o+3]&&"E"===a[o+4]&&"M"===a[o+5]&&"E"===a[o+6]&&"N"===a[o+7]&&"T"===a[o+8]||h&&"!"===(l=e)[(c=t)+1]&&"A"===l[c+2]&&"T"===l[c+3]&&"T"===l[c+4]&&"L"===l[c+5]&&"I"===l[c+6]&&"S"===l[c+7]&&"T"===l[c+8]?t+=8:h&&"!"===(u=e)[(p=t)+1]&&"N"===u[p+2]&&"O"===u[p+3]&&"T"===u[p+4]&&"A"===u[p+5]&&"T"===u[p+6]&&"I"===u[p+7]&&"O"===u[p+8]&&"N"===u[p+9]?t+=9:g=!0}d++}if(0!==d)throw Error("Unclosed DOCTYPE")}else throw Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}(e,a);this.docTypeEntities=t.entities,a=t.i}else if("!["===e.substr(a+1,2)){let t=k(e,"]]>",a,"CDATA is not closed.")-2,i=e.substring(a+9,t);n=this.saveTextToParentTag(n,r,s);let o=this.parseTextData(i,r.tagname,s,!0,!1,!0,!0);void 0==o&&(o=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:i}]):r.add(this.options.textNodeName,o),a=t+2}else{let i=D(e,a,this.options.removeNSPrefix),o=i.tagName,l=i.rawTagName,c=i.tagExp,u=i.attrExpPresent,p=i.closeIndex;this.options.transformTagName&&(o=this.options.transformTagName(o)),r&&n&&"!xml"!==r.tagname&&(n=this.saveTextToParentTag(n,r,s,!1));let d=r;if(d&&-1!==this.options.unpairedTags.indexOf(d.tagname)&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),o!==t.tagname&&(s+=s?"."+o:o),this.isItStopNode(this.options.stopNodes,s,o)){let t="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)"/"===o[o.length-1]?(o=o.substr(0,o.length-1),s=s.substr(0,s.length-1),c=o):c=c.substr(0,c.length-1),a=i.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(o))a=i.closeIndex;else{let r=this.readStopNodeData(e,l,p+1);if(!r)throw Error("Unexpected end of ".concat(l));a=r.i,t=r.tagContent}let n=new f(o);o!==c&&u&&(n[":@"]=this.buildAttributesMap(c,s,o)),t&&(t=this.parseTextData(t,o,s,!0,u,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),n.add(this.options.textNodeName,t),this.addChild(r,n,s)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){"/"===o[o.length-1]?(o=o.substr(0,o.length-1),s=s.substr(0,s.length-1),c=o):c=c.substr(0,c.length-1),this.options.transformTagName&&(o=this.options.transformTagName(o));let e=new f(o);o!==c&&u&&(e[":@"]=this.buildAttributesMap(c,s,o)),this.addChild(r,e,s),s=s.substr(0,s.lastIndexOf("."))}else{let e=new f(o);this.tagsNodeStack.push(r),o!==c&&u&&(e[":@"]=this.buildAttributesMap(c,s,o)),this.addChild(r,e,s),r=e}n="",a=p}}else n+=e[a];return t.child};function O(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);!1===n||("string"==typeof n&&(t.tagname=n),e.addChild(t))}let y=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function S(e,t,r,n){return e&&(void 0===n&&(n=0===t.child.length),void 0!==(e=this.parseTextData(e,t.tagname,r,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,n))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function R(e,t,r){let n="*."+r;for(let r in e){let i=e[r];if(n===i||t===i)return!0}return!1}function k(e,t,r,n){let i=e.indexOf(t,r);if(-1!==i)return i+t.length-1;throw Error(n)}function D(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:">",i=function(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:">",i="";for(let s=t;s<e.length;s++){let t=e[s];if(r)t===r&&(r="");else if('"'===t||"'"===t)r=t;else if(t===n[0]){if(!n[1])return{data:i,index:s};else if(e[s+1]===n[1])return{data:i,index:s}}else"	"===t&&(t=" ");i+=t}}(e,t+1,n);if(!i)return;let s=i.data,a=i.index,o=s.search(/\s/),l=s,c=!0;-1!==o&&(l=s.substring(0,o),s=s.substring(o+1).trimStart());let u=l;if(r){let e=l.indexOf(":");-1!==e&&(c=(l=l.substr(e+1))!==i.data.substr(e+1))}return{tagName:l,tagExp:s,closeIndex:a,attrExpPresent:c,rawTagName:u}}function w(e,t,r){let n=r,i=1;for(;r<e.length;r++)if("<"===e[r])if("/"===e[r+1]){let s=k(e,">",r,"".concat(t," is not closed"));if(e.substring(r+2,s).trim()===t&&0==--i)return{tagContent:e.substring(n,r),i:s};r=s}else if("?"===e[r+1])r=k(e,"?>",r+1,"StopNode is not closed.");else if("!--"===e.substr(r+1,3))r=k(e,"-->",r+3,"StopNode is not closed.");else if("!["===e.substr(r+1,2))r=k(e,"]]>",r,"StopNode is not closed.")-2;else{let n=D(e,r,">");n&&((n&&n.tagName)===t&&"/"!==n.tagExp[n.tagExp.length-1]&&i++,r=n.closeIndex)}}function P(e,t,r){if(t&&"string"==typeof e){let t=e.trim();return"true"===t||"false"!==t&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=Object.assign({},x,t),!e||"string"!=typeof e)return e;let r=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(r))return e;if("0"===e)return 0;if(t.hex&&m.test(r)){var n,i=r,s=16;if(parseInt)return parseInt(i,16);if(Number.parseInt)return Number.parseInt(i,s);if(window&&window.parseInt)return window.parseInt(i,s);throw Error("parseInt, Number.parseInt, window.parseInt are not supported")}if(-1!==r.search(/[eE]/)){let n=r.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(!n)return e;if(t.leadingZeros)r=(n[1]||"")+n[3];else if("0"!==n[2]||"."!==n[3][0])return e;return t.eNotation?Number(r):e}{let i=E.exec(r);if(!i)return e;{let s=i[1],a=i[2],o=((n=i[3])&&-1!==n.indexOf(".")&&("."===(n=n.replace(/0+$/,""))?n="0":"."===n[0]?n="0"+n:"."===n[n.length-1]&&(n=n.substr(0,n.length-1))),n);if(!t.leadingZeros&&a.length>0&&s&&"."!==r[2])return e;{if(!t.leadingZeros&&a.length>0&&!s&&"."!==r[1])return e;if(t.leadingZeros&&a===e)return 0;let n=Number(r),i=""+n;if(-1!==i.search(/[eE]/))if(t.eNotation)return n;else return e;if(-1!==r.indexOf("."))if("0"===i&&""===o)return n;else if(i===o)return n;else if(s&&i==="-"+o)return n;else return e;return a?o===i||s+o===i?n:e:r===i||r===s+i?n:e}}}}(e,r)}return void 0!==e?e:""}class L{parse(e,t){if("string"==typeof e);else if(e.toString)e=e.toString();else throw Error("XML data is accepted in String or Bytes[] form.");if(t){!0===t&&(t={});let r=function(e,t){t=Object.assign({},s,t);let r=[],n=!1,c=!1;"\uFEFF"===e[0]&&(e=e.substr(1));for(let s=0;s<e.length;s++)if("<"===e[s]&&"?"===e[s+1]){if(s+=2,(s=o(e,s)).err)return s}else if("<"===e[s]){let h=s;if("!"===e[++s]){s=l(e,s);continue}{let g=!1;"/"===e[s]&&(g=!0,s++);let f="";for(;s<e.length&&">"!==e[s]&&" "!==e[s]&&"	"!==e[s]&&"\n"!==e[s]&&"\r"!==e[s];s++)f+=e[s];if("/"===(f=f.trim())[f.length-1]&&(f=f.substring(0,f.length-1),s--),!i(f))return p("InvalidTag",0===f.trim().length?"Invalid space after '<'.":"Tag '"+f+"' is an invalid name.",d(e,s));let m=function(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===n?n=e[t]:n!==e[t]||(n="");else if(">"===e[t]&&""===n){i=!0;break}r+=e[t]}return""===n&&{value:r,index:t,tagClosed:i}}(e,s);if(!1===m)return p("InvalidAttr","Attributes for '"+f+"' have open quote.",d(e,s));let E=m.value;if(s=m.index,"/"===E[E.length-1]){let r=s-E.length,i=u(E=E.substring(0,E.length-1),t);if(!0!==i)return p(i.err.code,i.err.msg,d(e,r+i.err.line));n=!0}else if(g)if(!m.tagClosed)return p("InvalidTag","Closing tag '"+f+"' doesn't have proper closing.",d(e,s));else{if(E.trim().length>0)return p("InvalidTag","Closing tag '"+f+"' can't have attributes or invalid starting.",d(e,h));if(0===r.length)return p("InvalidTag","Closing tag '"+f+"' has not been opened.",d(e,h));let t=r.pop();if(f!==t.tagName){let r=d(e,t.tagStartPos);return p("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+r.line+", col "+r.col+") instead of closing tag '"+f+"'.",d(e,h))}0==r.length&&(c=!0)}else{let i=u(E,t);if(!0!==i)return p(i.err.code,i.err.msg,d(e,s-E.length+i.err.line));if(!0===c)return p("InvalidXml","Multiple possible root nodes found.",d(e,s));-1!==t.unpairedTags.indexOf(f)||r.push({tagName:f,tagStartPos:h}),n=!0}for(s++;s<e.length;s++)if("<"===e[s])if("!"===e[s+1]){s=l(e,++s);continue}else if("?"===e[s+1]){if((s=o(e,++s)).err)return s}else break;else if("&"===e[s]){let t=function(e,t){if(";"===e[++t])return -1;if("#"===e[t]){var r=++t;let n=/\d/;for("x"===e[r]&&(r++,n=/[\da-fA-F]/);r<e.length;r++){if(";"===e[r])return r;if(!e[r].match(n))break}return -1}let n=0;for(;t<e.length;t++,n++)if(!e[t].match(/\w/)||!(n<20)){if(";"===e[t])break;return -1}return t}(e,s);if(-1==t)return p("InvalidChar","char '&' is not expected.",d(e,s));s=t}else if(!0===c&&!a(e[s]))return p("InvalidXml","Extra text at the end",d(e,s));"<"===e[s]&&s--}}else{if(a(e[s]))continue;return p("InvalidChar","char '"+e[s]+"' is not expected.",d(e,s))}return n?1==r.length?p("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",d(e,r[0].tagStartPos)):!(r.length>0)||p("InvalidXml","Invalid '"+JSON.stringify(r.map(e=>e.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):p("InvalidXml","Start tag expected.",1)}(e,t);if(!0!==r)throw Error("".concat(r.err.msg,":").concat(r.err.line,":").concat(r.err.col))}let r=new b(this.options);r.addExternalEntities(this.externalEntities);let n=r.parseXml(e);return this.options.preserveOrder||void 0===n?n:function e(t,r,n){let i,s={};for(let a=0;a<t.length;a++){let o=t[a],l=function(e){let t=Object.keys(e);for(let e=0;e<t.length;e++){let r=t[e];if(":@"!==r)return r}}(o),c="";if(c=void 0===n?l:n+"."+l,l===r.textNodeName)void 0===i?i=o[l]:i+=""+o[l];else if(void 0===l)continue;else if(o[l]){let t=e(o[l],r,c),n=function(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return 0===n||1===n&&(!!e[r]||"boolean"==typeof e[r]||0===e[r])}(t,r);o[":@"]?function(e,t,r,n){if(t){let i=Object.keys(t),s=i.length;for(let a=0;a<s;a++){let s=i[a];n.isArray(s,r+"."+s,!0,!0)?e[s]=[t[s]]:e[s]=t[s]}}}(t,o[":@"],c,r):1!==Object.keys(t).length||void 0===t[r.textNodeName]||r.alwaysCreateTextNode?0===Object.keys(t).length&&(r.alwaysCreateTextNode?t[r.textNodeName]="":t=""):t=t[r.textNodeName],void 0!==s[l]&&s.hasOwnProperty(l)?(Array.isArray(s[l])||(s[l]=[s[l]]),s[l].push(t)):r.isArray(l,c,n)?s[l]=[t]:s[l]=t}}return"string"==typeof i?i.length>0&&(s[r.textNodeName]=i):void 0!==i&&(s[r.textNodeName]=i),s}(n,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}constructor(e){this.externalEntities={},this.options=Object.assign({},g,e)}}function F(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){if(!e.hasOwnProperty(n))continue;let i=t.attributeValueProcessor(n,e[n]);!0===(i=B(i,t))&&t.suppressBooleanAttributes?r+=" ".concat(n.substr(t.attributeNamePrefix.length)):r+=" ".concat(n.substr(t.attributeNamePrefix.length),'="').concat(i,'"')}return r}function B(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}let V={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:RegExp("&","g"),val:"&amp;"},{regex:RegExp(">","g"),val:"&gt;"},{regex:RegExp("<","g"),val:"&lt;"},{regex:RegExp("'","g"),val:"&apos;"},{regex:RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function M(e){this.options=Object.assign({},V,e),!0===this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=N(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=J),this.processTextOrObjNode=j,this.options.format?(this.indentate=U,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function j(e,t,r,n){let i=this.j2x(e,r+1,n.concat(t));return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,i.attrStr,r):this.buildObjectNode(i.val,t,i.attrStr,r)}function U(e){return this.options.indentBy.repeat(e)}function J(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName&&e.substr(this.attrPrefixLen)}M.prototype.build=function(e){var t,r;let n;if(!this.options.preserveOrder)return Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0,[]).val;return t=e,r=this.options,n="",r.format&&r.indentBy.length>0&&(n="\n"),function e(t,r,n,i){let s="",a=!1;for(let o=0;o<t.length;o++){let l=t[o],c=function(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(e.hasOwnProperty(n)&&":@"!==n)return n}}(l);if(void 0===c)continue;let u="";if(u=0===n.length?c:"".concat(n,".").concat(c),c===r.textNodeName){let e=l[c];!function(e,t){let r=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}(u,r)&&(e=B(e=r.tagValueProcessor(c,e),r)),a&&(s+=i),s+=e,a=!1;continue}if(c===r.cdataPropName){a&&(s+=i),s+="<![CDATA[".concat(l[c][0][r.textNodeName],"]]>"),a=!1;continue}if(c===r.commentPropName){s+=i+"<!--".concat(l[c][0][r.textNodeName],"-->"),a=!0;continue}else if("?"===c[0]){let e=F(l[":@"],r),t="?xml"===c?"":i,n=l[c][0][r.textNodeName];n=0!==n.length?" "+n:"",s+=t+"<".concat(c).concat(n).concat(e,"?>"),a=!0;continue}let p=i;""!==p&&(p+=r.indentBy);let d=F(l[":@"],r),h=i+"<".concat(c).concat(d),g=e(l[c],r,u,p);-1!==r.unpairedTags.indexOf(c)?r.suppressUnpairedNode?s+=h+">":s+=h+"/>":(!g||0===g.length)&&r.suppressEmptyNode?s+=h+"/>":g&&g.endsWith(">")?s+=h+">".concat(g).concat(i,"</").concat(c,">"):(s+=h+">",g&&""!==i&&(g.includes("/>")||g.includes("</"))?s+=i+r.indentBy+g+i:s+=g,s+="</".concat(c,">")),a=!0}return s}(t,r,"",n)},M.prototype.j2x=function(e,t,r){let n="",i="",s=r.join(".");for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a))if(void 0===e[a])this.isAttribute(a)&&(i+="");else if(null===e[a])this.isAttribute(a)||a===this.options.cdataPropName?i+="":"?"===a[0]?i+=this.indentate(t)+"<"+a+"?"+this.tagEndChar:i+=this.indentate(t)+"<"+a+"/"+this.tagEndChar;else if(e[a]instanceof Date)i+=this.buildTextValNode(e[a],a,"",t);else if("object"!=typeof e[a]){let r=this.isAttribute(a);if(r&&!this.ignoreAttributesFn(r,s))n+=this.buildAttrPairStr(r,""+e[a]);else if(!r)if(a===this.options.textNodeName){let t=this.options.tagValueProcessor(a,""+e[a]);i+=this.replaceEntitiesValue(t)}else i+=this.buildTextValNode(e[a],a,"",t)}else if(Array.isArray(e[a])){let n=e[a].length,s="",o="";for(let l=0;l<n;l++){let n=e[a][l];if(void 0===n);else if(null===n)"?"===a[0]?i+=this.indentate(t)+"<"+a+"?"+this.tagEndChar:i+=this.indentate(t)+"<"+a+"/"+this.tagEndChar;else if("object"==typeof n)if(this.options.oneListGroup){let e=this.j2x(n,t+1,r.concat(a));s+=e.val,this.options.attributesGroupName&&n.hasOwnProperty(this.options.attributesGroupName)&&(o+=e.attrStr)}else s+=this.processTextOrObjNode(n,a,t,r);else if(this.options.oneListGroup){let e=this.options.tagValueProcessor(a,n);s+=e=this.replaceEntitiesValue(e)}else s+=this.buildTextValNode(n,a,"",t)}this.options.oneListGroup&&(s=this.buildObjectNode(s,a,o,t)),i+=s}else if(this.options.attributesGroupName&&a===this.options.attributesGroupName){let t=Object.keys(e[a]),r=t.length;for(let i=0;i<r;i++)n+=this.buildAttrPairStr(t[i],""+e[a][t[i]])}else i+=this.processTextOrObjNode(e[a],a,t,r);return{attrStr:n,val:i}},M.prototype.buildAttrPairStr=function(e,t){return(t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t)?" "+e:" "+e+'="'+t+'"'},M.prototype.buildObjectNode=function(e,t,r,n){if(""===e)if("?"===t[0])return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;else return this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,s="";return("?"===t[0]&&(s="?",i=""),(r||""===r)&&-1===e.indexOf("<"))?this.indentate(n)+"<"+t+r+s+">"+e+i:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===s.length?this.indentate(n)+"<!--".concat(e,"-->")+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+i}},M.prototype.closeTag=function(e){let t="";return -1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":"></".concat(e),t},M.prototype.buildTextValNode=function(e,t,r,n){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(n)+"<![CDATA[".concat(e,"]]>")+this.newLine;{if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(n)+"<!--".concat(e,"-->")+this.newLine;if("?"===t[0])return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;let i=this.options.tagValueProcessor(t,e);return""===(i=this.replaceEntitiesValue(i))?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+i+"</"+t+this.tagEndChar}},M.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e},e.s(["XMLParser",()=>L],258561)},494264,e=>{"use strict";e.s(["fixDeepSearchUrls",()=>t]);let t=e=>{let t=e;return(t=t.replace(/(\(\[.+\]\((https?:\/\/[^\s)]+)\)\))/g,"[]($2)")).replace(/([^\]]\((https?:\/\/[^\s)]+)\))/g,"[]($2)")}},854593,895630,e=>{"use strict";e.s(["cleanForCopy",()=>O,"computeResponseMetadata",()=>R,"preprocessMarkdownContent",()=>y,"preprocessMarkdownContentAsChunks",()=>S],854593);var t=e.i(494264),r=e.i(486492);e.i(475932);var n=e.i(258561),i=e.i(798784);let s=i.z.object({name:i.z.string(),args:i.z.record(i.z.string(),i.z.any()),toolUsageCardId:i.z.string().optional()}),a="</xai:tool_usage_card>",o="</xai:tool_args>";e.s(["RICH_MEDIA_OPENING_TAG",()=>u,"parseRenderText",()=>d,"parseRenderTextDeprecated",()=>h],895630);let l="grok:",c="".concat(l,"render"),u="<".concat(c),p="</".concat(c,">");function d(e){let t=e;t.includes(p)||(t+=p);let r=new n.XMLParser({ignoreAttributes:!1,alwaysCreateTextNode:!0,attributeNamePrefix:l});try{let e=r.parse(t)[c];if(e){let t=e[l+"card_id"]||"",r=e[l+"card_type"]||"";return{id:t,type:r}}}catch(e){}return{id:void 0,type:void 0}}function h(e){let t=e;t.includes(p)||(t+=p);let r=new n.XMLParser({ignoreAttributes:!1,alwaysCreateTextNode:!0,attributeNamePrefix:"grok:"}),i="",s="";try{let e=r.parse(t)["grok:richcontent"];e&&(i=e["grok:id"]||"",s=e["grok:type"]||"")}catch(e){}return{id:i,type:s}}function g(e){return e.replace(/\\text\{([^}]*)\}/g,(e,t)=>{let r=t.replace(RegExp("(?<!\\\\)([_^&%#])","g"),"\\$1");return"\\text{".concat(r,"}")})}let f=e=>{let t=[],r=e.replace(RegExp("(?<!^[\\t ]+)(```[^\\n]*\\n[\\s\\S]*?(?:\\n|^)```)|(?<!^[\\t ]+)(```[^\\n]*\\n[\\s\\S]*$)|(`[^`\\n]+`)","gm"),e=>(t.push(e),"<<CODE_BLOCK_".concat(t.length-1,">>")));return{codeBlocks:t,processedContent:r}},m=e=>{let t=e.replace(/\\begin\{equation\}([\s\S]*?)\\end\{equation\}/g,(e,t)=>"\\[ ".concat(t," \\]"));t=(t=t.replace(/\\\[\s*\\boxed\{.*\}\s*\\\]/g,e=>e+"\n")).replace(/\$\$([\s\S]*?)\$\$/g,(e,t)=>"\\[ ".concat(t," \\]"));let r=[];return t=t.replace(/(\\\[)([\s\S]*?)\\\]|\\\(([\s\S]*?)\\\)/g,(e,t,n,i)=>t?(r.push(g(n)),"<<LATEX_BLOCK_".concat(r.length-1,">>")):void 0!==i?(r.push(g(i)),"<<LATEX_BLOCK_".concat(r.length-1,">>")):e),{latexBlockExpressions:r,processedContent:t}},E=e=>{let t=[],r=e.replace(/<xai:tool_usage_card>[\s\S]*?<\/xai:tool_usage_card>|<xai:tool_usage_card>[\s\S]*/g,e=>(t.push(e),"<<TOOL_USAGE_".concat(t.length-1,">>")));return{toolUsages:t,processedContent:r}},x=["images_card","image_card"],N=e=>{let t=[];e=(e=e.replace(/\|grok:render/g,"<grok:render")).replace(/<\/grok:render\|/g,"</grok:render>");let r=(e,r,n)=>{var i;let s=null==(i=e.match(/card_type="([^"]+)"/))?void 0:i[1];t.push(e);let a="<<RENDER_".concat(t.length-1,">>");if(s&&x.includes(s)){let t=n.lastIndexOf("\n",r)+1,i=n.indexOf("\n",r),s=n.slice(t,-1!==i?i:void 0),o=s.indexOf("<grok:render");if(o>0&&s.slice(0,o).includes("|")&&"|"!==s[o-1])return a;let l=0,c=r-1;for(;c>=0;){let e=n[c];if("\n"===e)l++;else if(" "!==e&&"	"!==e)break;c--}let u=0,p=r+e.length;for(;p<n.length;){let e=n[p];if("\n"===e)u++;else if(" "!==e&&"	"!==e)break;p--}let d="\n".repeat(Math.max(0,2-l)),h="\n".repeat(Math.max(0,2-u));return"".concat(d).concat(a).concat(h)}return a};return{renders:t,processedContent:e.replace(/<grok:render\b[^>]*>[\s\S]*?(?:<\/grok:render>)/g,r).replace(/<grok:richcontent\b[^>]*>[\s\S]*?(?:<\/grok:richcontent>)/g,r)}};function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e.replace(/^([ \t]+)/gm,(e,r)=>r.split("").map(e=>" "===e?"&nbsp;":"&nbsp;".repeat(t)).join(""))}let _=/!\[([^\]()]*?)\]\((.+?)\)|!\[([^\]()]*?)\]\([A-Za-z0-9\-._~:/?#[\]@!$&'*+,;=]+\)?/,I=e=>{let t=[],r=e.replace(RegExp(_,"g"),e=>(t.push(e),"<<IMAGE_MARKDOWN_".concat(t.length-1,">>")));return{imageMarkdowns:t,processedContent:r}},A=/\[\]\(([^[\]()]+?)\)/,T=e=>{let t=[],r=e.replace(RegExp(A,"g"),e=>(t.push(e),"<<CITATION_MARKDOWN_".concat(t.length-1,">>")));return{citationMarkdowns:t,processedContent:r}};function v(e){var t;if(!e.includes("\n"))return e;let r=e.indexOf("\n"),n=e.slice(0,r),i=e.slice(r+1),s=null==(t=n.match(/```([\w-]+)/))?void 0:t[1];if(!s)return e;let a=i.match(/```$/);return"```".concat(s).concat(a?"":":disable-run","\n").concat(i).concat(a?"":"\n```")}let C=e=>{let{content:t,latexBlockExpressions:i=[],codeBlocks:l=[],toolUsages:c=[],renders:u=[],citationMarkdowns:p=[],imageMarkdowns:g=[],isStreaming:f=!1,responseId:m}=e,E=t.replace(/<<LATEX_BLOCK_(\d+)>>/g,(e,t)=>"$$ ".concat(i[parseInt(t,10)]||""," $$"));return(E=(E=(E=(E=E.replace(/<<CODE_BLOCK_(\d+)>>/g,(e,t)=>v(l[parseInt(t,10)]||""))).replace(/<<TOOL_USAGE_(\d+)>>/g,(e,t)=>{let{notification:i="",calls:l=[]}=function(e){var t,i;let l,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isStreaming:u=!1,responseId:p}=c,d=e,h=(d.match(RegExp("<xai:tool_args>","g"))||[]).length-(d.match(RegExp(o,"g"))||[]).length,g=((d+=o.repeat(h)).match(RegExp("<xai:tool_usage_card>","g"))||[]).length-(d.match(RegExp(a,"g"))||[]).length;d+=a.repeat(g);let f=new n.XMLParser({ignoreAttributes:!1,alwaysCreateTextNode:!0,attributeNamePrefix:"xai:"}),m=!0;for(;m;){m=!1;try{l=f.parse(d)}catch(e){if(!(e instanceof Error))break;if(u||(0,r.logError)("tool-usage.xml-parse",e,{xmlText:d,...p?{responseId:p}:{}}),"CDATA is not closed."===e.message){d+="]]>",m=!0;continue}}}let E=null!=(i=l["xai:tool_usage_card"])?i:[];Array.isArray(E)||(E=[E]);let x=(null==(t=E[0])?void 0:t.xai_notification)||"",N=[],b=e=>{var t;return"object"==typeof e?null!=(t=e["#text"])?t:"":null!=e?e:""};for(let e of E){let t,n=b(e["xai:tool_usage_card_id"]),i=b(e["xai:tool_name"]),a=b(e["xai:tool_args"]);try{t=JSON.parse(a)}catch(e){try{t=JSON.parse(function(e){let t=["ROOT"],r=-1,n=null;function i(e,i,s){switch(e){case'"':r=i,t.pop(),t.push(s),t.push("INSIDE_STRING");break;case"f":case"t":case"n":r=i,n=i,t.pop(),t.push(s),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(s),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=i,t.pop(),t.push(s),t.push("INSIDE_NUMBER");break;case"{":r=i,t.pop(),t.push(s),t.push("INSIDE_OBJECT_START");break;case"[":r=i,t.pop(),t.push(s),t.push("INSIDE_ARRAY_START")}}function s(e,n){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":r=n,t.pop()}}function a(e,n){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=n,t.pop()}}for(let o=0;o<e.length;o++){let l=e[o];if(void 0===l)throw Error("fixJson: Unexpected undefined character at index "+o);switch(t[t.length-1]){case"ROOT":i(l,o,"FINISH");break;case"INSIDE_OBJECT_START":switch(l){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":r=o,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===l&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":i(l,o,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":s(l,o);break;case"INSIDE_STRING":switch(l){case'"':t.pop(),r=o;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:r=o}break;case"INSIDE_ARRAY_START":"]"===l?(r=o,t.pop()):(r=o,i(l,o,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(l){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=o,t.pop();break;default:r=o}break;case"INSIDE_ARRAY_AFTER_COMMA":i(l,o,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),r=o;break;case"INSIDE_NUMBER":switch(l){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=o;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&a(l,o),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&s(l,o);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&s(l,o);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&a(l,o);break;default:t.pop()}break;case"INSIDE_LITERAL":{if(null===n)throw Error("fixJson: literalStart is null in INSIDE_LITERAL state");let i=e.substring(n,o+1);"false".startsWith(i)||"true".startsWith(i)||"null".startsWith(i)?r=o:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?s(l,o):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&a(l,o))}}}let o=e.slice(0,r+1);for(let r=t.length-1;r>=0;r--)switch(t[r]){case"INSIDE_STRING":o+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":o+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":o+="]";break;case"INSIDE_LITERAL":{if(null===n)throw Error("fixJson: literalStart is null in INSIDE_LITERAL state at end");let t=e.substring(n,e.length);"true".startsWith(t)?o+="true".slice(t.length):"false".startsWith(t)?o+="false".slice(t.length):"null".startsWith(t)&&(o+="null".slice(t.length))}}return o}(a||"{}"))}catch(e){u||(0,r.logError)("tool-usage.fix-json",e,{args:a,...p?{responseId:p}:{}}),t={}}}let o=s.safeParse({name:i,args:t,toolUsageCardId:n});o.success?N.push(o.data):(0,r.logError)("tool-usage.parse",o.error)}return{notification:x,calls:N}}(c[parseInt(t,10)]||"",{isStreaming:f,responseId:m}),u=encodeURIComponent(i),p=encodeURIComponent(JSON.stringify(l));return'<tool-usage-card data-notification="'.concat(u,'" data-calls="').concat(p,'"></tool-usage-card>')})).replace(/<<RENDER_(\d+)>>/g,(e,t)=>{let r=u[parseInt(t,10)]||"",{id:n,type:i}=d(r);if(n&&i||({id:n,type:i}=h(r)),!n||!i)return"";let s=encodeURIComponent(n),a=encodeURIComponent(i);return'<grok-card data-id="'.concat(s,'" data-type="').concat(a,'"></grok-card>')})).replace(/<<CITATION_MARKDOWN_(\d+)>>/g,(e,t)=>{let r=(p[parseInt(t,10)]||"").match(A);if(!r)return"";let[,n=""]=r;return'<a href="'.concat(n,'" target="_blank" rel="noopener noreferrer nofollow"></a>')})).replace(/<<IMAGE_MARKDOWN_(\d+)>>/g,(e,t)=>{let r=(g[parseInt(t,10)]||"").match(_);if(!r)return"";let[,n="",i="",s=""]=r;return'<image-card alt="'.concat(n||s,'" src="').concat(i,'" ').concat(s?'streaming="true"':"","></image-card>")})};function O(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{renders:r,processedContent:n}=N(e),{processedContent:i}=E(n),{codeBlocks:s,processedContent:a}=f(i),{latexBlockExpressions:o}=m(a);return function(e){let{content:t,latexBlockExpressions:r=[],codeBlocks:n=[],renders:i=[]}=e,s=t.replace(/<<LATEX_BLOCK_(\d+)>>/g,(e,t)=>"$$ ".concat(r[parseInt(t,10)]||""," $$"));return(s=(s=(s=(s=s.replace(/<<CODE_BLOCK_(\d+)>>/g,(e,t)=>v(n[parseInt(t,10)]||""))).replace(/<<RENDER_(\d+)>>/g,(e,t)=>{var r;let n=(i[parseInt(t,10)]||"").match(/<grok:(render|richcontent)[^>]*>([\s\S]*?)<\/grok:\1>/),s=n&&(null==(r=n[2])?void 0:r.trim())?n[2].trim():"";return s.match(/<[^>]*>/g)?"":s.trim()})).replace(/<<TOOL_USAGE_\d+>>/g,"")).replace(/<<[A-Z0-9_]+>>/g,"")).trim()}({content:t?b(a):a,latexBlockExpressions:o,codeBlocks:s,renders:r})}function y(e){let{content:r,hideCitations:n,shouldPreserveLeadingWhitespace:i,responseId:s,shouldExtractRender:a}=e,o=n?r:(0,t.fixDeepSearchUrls)(r),{renders:l,processedContent:c}=a?N(o):{renders:[],processedContent:o},{toolUsages:u,processedContent:p}=E(c),{codeBlocks:d,processedContent:h}=f(p),{latexBlockExpressions:g,processedContent:x}=m(h),{citationMarkdowns:_,processedContent:A}=T(x),{imageMarkdowns:v,processedContent:O}=I(A);return C({content:i?b(O):O,latexBlockExpressions:g,codeBlocks:d,toolUsages:u,renders:l,citationMarkdowns:_,imageMarkdowns:v,isStreaming:!1,responseId:s})}function S(e,r,n){let{renders:i,processedContent:s}=N(r?e:(0,t.fixDeepSearchUrls)(e)),{toolUsages:a,processedContent:o}=E(s),{codeBlocks:l,processedContent:c}=f(o),{latexBlockExpressions:u,processedContent:p}=m(c),{citationMarkdowns:d,processedContent:h}=T(p),{imageMarkdowns:g,processedContent:x}=I(h);return x.split(/\n\n+/).map(e=>C({content:e,latexBlockExpressions:u,codeBlocks:l,toolUsages:a,renders:i,citationMarkdowns:d,imageMarkdowns:g,isStreaming:!0,responseId:n}))}function R(e){var t,r,n,i;let s={responseLength:(null==e?void 0:e.length)||0};if(!e)return s;let{renders:a,processedContent:o}=N(e),{toolUsages:l,processedContent:c}=E(o),{codeBlocks:u,processedContent:p}=f(c),{latexBlockExpressions:d,processedContent:h}=m(p),{citationMarkdowns:g,processedContent:x}=T(h),{imageMarkdowns:b}=I(x),_={};a.forEach(e=>{let t=e.match(/card_type="([^"]+)"/);if(t&&t[1]){let e=t[1];_[e]=(_[e]||0)+1}}),s.cardTypeCounts=_,l.length>0&&(s.toolUsagesCount=l.length),u.length>0&&(s.codeBlocksCount=u.length),d.length>0&&(s.latexBlocksCount=d.length),g.length>0&&(s.citationMarkdownsCount=g.length),b.length>0&&(s.imageMarkdownsCount=b.length);let A=(null==(t=e.match(/<grok:render/g))?void 0:t.length)||0,v=(null==(r=e.match(/<\/grok:/g))?void 0:r.length)||0,C=(null==(n=e.match(/<argument/g))?void 0:n.length)||0,O=(null==(i=e.match(/<\/argument/g))?void 0:i.length)||0;return(A!==v||C!==O)&&(s.brokenImageCards=!0),s}},945711,e=>{"use strict";e.s(["Trash2",()=>t.TrashIcon]);var t=e.i(449762)},194132,e=>{"use strict";e.s(["Label",()=>l],194132);var t=e.i(156820),r=e.i(598371),n=e.i(688463),i=r.forwardRef((e,r)=>(0,t.jsx)(n.Primitive.label,{...e,ref:r,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var s=e.i(89440),a=e.i(211959);let o=(0,s.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=r.forwardRef((e,r)=>{let{className:n,...s}=e;return(0,t.jsx)(i,{ref:r,className:(0,a.cn)(o(),n),...s})});l.displayName=i.displayName},838748,e=>{"use strict";e.s(["Textarea",()=>i]);var t=e.i(156820),r=e.i(598371),n=e.i(211959);let i=r.forwardRef((e,r)=>{let{className:i,...s}=e;return(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",i),ref:r,...s})});i.displayName="Textarea"},390864,e=>{"use strict";e.s(["ChevronDown",()=>t],390864);let t=(0,e.i(510965).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},417508,e=>{"use strict";e.s(["ChevronRight",()=>t],417508);let t=(0,e.i(510965).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},813637,e=>{"use strict";e.s(["Download",()=>t],813637);let t=(0,e.i(510965).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="051a53fe-9986-57b3-af09-845cd3e3e37f")}catch(e){}}();
//# debugId=051a53fe-9986-57b3-af09-845cd3e3e37f
